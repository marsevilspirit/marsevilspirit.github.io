<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>marsevilspirit&#39;s blog</title><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,viewport-fit=cover"><link rel="canonical" href="https://www.marsevilspirit.com/"><link rel="apple-touch-icon" sizes="180x180" href="/img/marsevilspirit.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/marsevilspirit.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/marsevilspirit.png"><link rel="mask-icon" type="image/png" href="/img/marsevilspirit.png"><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/et-book.min.css"><link rel="stylesheet" href="/css/LXGW.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/markdown.css"><link rel="stylesheet" href="/css/highlight/style1.css"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="marsevilspirit's blog" type="application/atom+xml">
</head><body><div class="wrapper"><div class="container"><header><h2><a href="/">marsevilspirit&#39;s blog</a></h2></header></div><div class="content"><div class="post"><h1>notify-send和dunst的配置和使用</h1><main class="post-md"><h3 id="notify-send和dunst的配置和使用"><a href="#notify-send和dunst的配置和使用" class="headerlink" title="notify-send和dunst的配置和使用"></a>notify-send和dunst的配置和使用</h3><p>用于系统通知</p><h4 id="notify-send"><a href="#notify-send" class="headerlink" title="notify-send"></a>notify-send</h4><p>发送 low 的信息:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ notify-send &quot;help&quot; -u normal</span><br></pre></td></tr></table></figure><p>发送 normal 的信息:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ notify-send &quot;help&quot; -u normal</span><br></pre></td></tr></table></figure><p>发送 critical 的信息:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ notify-send &quot;help&quot; -u critical</span><br></pre></td></tr></table></figure><h4 id="dunstify"><a href="#dunstify" class="headerlink" title="dunstify"></a>dunstify</h4><p><code>dunstify</code> 命令和 <code>notify-send</code> 命令类似.</p><p>显示一个 icon:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dunstify &quot;Hello&quot; -u low -i volume-mute</span><br></pre></td></tr></table></figure><p><code>-i</code> 参数是文件名, 只是不加后缀.</p><p>给 notification 添加一个 ID, 可以重复利用同一个 notification 发送信息, 用 <code>-r</code> 参数添加:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dunstify &quot;Hello&quot; -u low -i volume-mute -r 111</span><br></pre></td></tr></table></figure><p><code>-a</code> 参数用于设置 appname</p><h4 id="dunst的配置"><a href="#dunst的配置" class="headerlink" title="dunst的配置"></a>dunst的配置</h4><p><code>/etc/dunst/dunstrc</code>中包含示例配置文件。将此文件复制到<code>~/.config/dunst/dunstrc</code>并进行相应的编辑。</p><p>在~&#x2F;.local&#x2F;share&#x2F;systemd&#x2F;user&#x2F;的目录下创建dunst.service文件，内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=dunst service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/bin/dunst -conf $HOME/.config/i3/dunstrc</span><br><span class="line">RemainAfterExit=yes</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=2</span><br><span class="line">ExecReload=kill -HUP $MAINPID</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=default.target</span><br></pre></td></tr></table></figure><p>然后运行<code>systemctl --user enable dunst.service</code>，再运行<code>systemctl --user start dunst.service</code>。<br>reboot之后，dunst就会自动启动了。</p></main><p>Sep 2024</p></div></div></div><footer class="footer"><div class="content has-text-centered"><p><a href="/about">About Mars</a> | <a href="https://github.com/marsevilspirit" , target="_blank">Github</a> | <a href="mailto:marsevilspirit@gmail.com">Email</a></p></div></footer></body></html>