<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>marsevilspirit&#39;s blog</title><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,viewport-fit=cover"><link rel="canonical" href="https://www.marsevilspirit.com/"><link rel="apple-touch-icon" sizes="180x180" href="/img/marsevilspirit.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/marsevilspirit.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/marsevilspirit.png"><link rel="mask-icon" type="image/png" href="/img/marsevilspirit.png"><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/et-book.min.css"><link rel="stylesheet" href="/css/LXGW.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/markdown.css"><link rel="stylesheet" href="/css/highlight/style1.css"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="marsevilspirit's blog" type="application/atom+xml">
</head><body><div class="wrapper"><div class="container"><header><h2><a href="/">marsevilspirit&#39;s blog</a></h2></header></div><div class="content"><div class="post"><h1>fishçš„é…ç½®</h1><main class="post-md"><h3 id="fishçš„é…ç½®"><a href="#fishçš„é…ç½®" class="headerlink" title="fishçš„é…ç½®"></a>fishçš„é…ç½®</h3><p>ä»Šå¤©å¿ƒè¡€æ¥æ½®ï¼Œæƒ³è¯•è¯•ç°ä»£shellæ˜¯ä»€ä¹ˆæ„Ÿè§‰ã€‚</p><h4 id="ä¸‹è½½fish"><a href="#ä¸‹è½½fish" class="headerlink" title="ä¸‹è½½fish"></a>ä¸‹è½½fish</h4><p>arch linux å¯é€šè¿‡åŒ…ç®¡ç†å™¨ä¸€é”®ä¸‹è½½ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S fish</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨fish"><a href="#ä½¿ç”¨fish" class="headerlink" title="ä½¿ç”¨fish"></a>ä½¿ç”¨fish</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ fish</span><br></pre></td></tr></table></figure><p>åˆšå¼€å§‹æ„Ÿè§‰è¿˜ä¸é”™ï¼Œç”¨rustå†™çš„ä¸œè¥¿å°±æ˜¯<strong>é«˜çº§</strong>ğŸ˜†ã€‚</p><h4 id="ä¿®æ”¹fishçš„prompt"><a href="#ä¿®æ”¹fishçš„prompt" class="headerlink" title="ä¿®æ”¹fishçš„prompt"></a>ä¿®æ”¹fishçš„prompt</h4><p>å› ä¸ºä¹‹å‰zshçš„promptç”¨æƒ¯äº†ï¼Œæƒ³æ”¹ä¸ªè·Ÿä¹‹å‰ä¸€æ ·çš„ï¼š</p><img src="/img/fish_propmt.png" alt="my prompt" width="150" height=""><p>æƒ³è¦è‡ªå®šä¹‰promptï¼Œéœ€è¦å¯¹fuctionç›®å½•ä¸‹çš„fish_prompt.fishè¿›è¡Œä¿®æ”¹:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æç¤ºç¬¦ï¼Œæ ¼å¼å¦‚ä¸‹</span></span><br><span class="line"><span class="comment"># mars:/last-dir (branch|status) $</span></span><br><span class="line"><span class="comment"># è‹¥æƒ³è‡ªå®šä¹‰ï¼Œè¿™ä¸ªç½‘é¡µæœ‰æ•™ç¨‹: https://fishshell.com/docs/current/cmds/fish_git_prompt.html</span></span><br><span class="line"><span class="keyword">function</span> fish_prompt</span><br><span class="line">    <span class="built_in">set</span> -l __last_command_exit_status <span class="variable">$status</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">set</span> -l cyan (set_color -o cyan)</span><br><span class="line">    <span class="built_in">set</span> -l yellow (set_color -o yellow)</span><br><span class="line">    <span class="built_in">set</span> -l red (set_color -o red)</span><br><span class="line">    <span class="built_in">set</span> -l blue (set_color -o blue)</span><br><span class="line">    <span class="built_in">set</span> -l normal (set_color normal)</span><br><span class="line">    <span class="built_in">set</span> -l white (set_color -o white --bold)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">set</span> -l name <span class="variable">$white</span>(<span class="built_in">whoami</span>)</span><br><span class="line">    <span class="built_in">set</span> -l cwd <span class="variable">$cyan</span>(<span class="built_in">basename</span> (prompt_pwd))/</span><br><span class="line"></span><br><span class="line">    <span class="built_in">set</span> -g __fish_git_prompt_showuntrackedfiles <span class="string">&#x27;true&#x27;</span></span><br><span class="line">    <span class="built_in">set</span> -g __fish_git_prompt_showcolorhints <span class="string">&#x27;true&#x27;</span></span><br><span class="line">    <span class="built_in">set</span> -g __fish_git_prompt_show_informative_status <span class="string">&#x27;true&#x27;</span></span><br><span class="line">    <span class="built_in">set</span> -g __fish_git_prompt_color_prefix blue</span><br><span class="line">    <span class="built_in">set</span> -g __fish_git_prompt_color_suffix blue</span><br><span class="line">    <span class="built_in">set</span> -g __fish_git_prompt_color_branch yellow --bold</span><br><span class="line">    <span class="built_in">set</span> -l git_info (fish_git_prompt)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">set</span> -l dollar <span class="string">&quot;<span class="variable">$normal</span>\$&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -n -s <span class="string">&quot;<span class="variable">$name</span> $cwd<span class="variable">$git_info</span> <span class="variable">$dollar</span> &quot;</span></span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>å†å¯¹right_promptè¿›è¡Œè®¾ç½®:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> fish_right_prompt -d <span class="string">&quot;Write out the right prompt&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;[&quot;</span>(<span class="built_in">date</span> <span class="string">&quot;+%H:%M:%S&quot;</span>)<span class="string">&quot;]&quot;</span></span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>æœ€åå®Œç¾å¤ç°å…ˆå‰çš„promptã€‚</p><h4 id="ç¦ç”¨fishçš„è‡ªåŠ¨è¡¥å…¨"><a href="#ç¦ç”¨fishçš„è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="ç¦ç”¨fishçš„è‡ªåŠ¨è¡¥å…¨"></a>ç¦ç”¨fishçš„è‡ªåŠ¨è¡¥å…¨</h4><p>ä¸ºä»€ä¹ˆæˆ‘æƒ³ç¦ç”¨å®ƒå‘¢ï¼Ÿå› ä¸ºæˆ‘è§‰å¾—è¿™ä¸ªä¸œè¥¿çœŸçš„å¾ˆçƒ¦ï¼Œä¹‹å‰ä¹Ÿæ²¡ç”¨è¿‡ã€‚</p><p>æˆ‘æŸ¥å®˜æ–¹tutorial, ç”¨ä¸‹é¢çš„å‘½ä»¤å¯ä»¥å…³é—­:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ set -g fish_autosuggestion_enabled 0</span><br></pre></td></tr></table></figure><p>æ”¾åœ¨config.fishå¯ä»¥æ°¸ä¹…ç¦ç”¨ã€‚</p><p>æˆ‘åªèƒ½è¯´ä¸€å¥ï¼šfish NB!</p><h4 id="ä¿®æ”¹fishä¸ºé»˜è®¤shell"><a href="#ä¿®æ”¹fishä¸ºé»˜è®¤shell" class="headerlink" title="ä¿®æ”¹fishä¸ºé»˜è®¤shell"></a>ä¿®æ”¹fishä¸ºé»˜è®¤shell</h4><p>æˆ‘ä»¬é¦–å…ˆé€šè¿‡å‘½ä»¤æŸ¥çœ‹å½“å‰ shellï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ echo $SHELL</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ“ä½œç³»ç»Ÿä¸­å­˜åœ¨çš„ shell æœ‰é‚£äº›ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/shells</span><br><span class="line"># Pathnames of valid login shells.</span><br><span class="line"># See shells(5) for details.</span><br><span class="line"></span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/bin/rbash</span><br><span class="line">/usr/bin/sh</span><br><span class="line">/usr/bin/bash</span><br><span class="line">/usr/bin/rbash</span><br><span class="line">/usr/bin/git-shell</span><br><span class="line">/bin/zsh</span><br><span class="line">/usr/bin/zsh</span><br><span class="line">/usr/bin/systemd-home-fallback-shell</span><br><span class="line">/bin/fish</span><br><span class="line">/usr/bin/fish  &lt;--  æˆ‘ä»¬å‘ç°Fishå·²ç»å®‰è£…</span><br></pre></td></tr></table></figure><p>åˆ‡æ¢ shellï¼Œåœ¨è¿™é‡Œé€šè¿‡<code>chsh</code>å‘½ä»¤å®ç°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chsh -s /usr/bin/fish</span><br></pre></td></tr></table></figure><p>ä¹‹årebooté‡å¯ç³»ç»Ÿå°±å¥½äº†ã€‚</p><h3 id="fisheræ’ä»¶ç®¡ç†å™¨"><a href="#fisheræ’ä»¶ç®¡ç†å™¨" class="headerlink" title="fisheræ’ä»¶ç®¡ç†å™¨"></a>fisheræ’ä»¶ç®¡ç†å™¨</h3><p>æˆ‘ä½¿ç”¨çš„fisherä½œä¸ºfishçš„æ’ä»¶ç®¡ç†å™¨ã€‚</p><p>è¿™é‡Œè¦é¿ä¸ªé›·ï¼Œoh-my-fishå·²ç»ä¸è¢«ç»´æŠ¤äº†ï¼Œä¸è¦åœ¨ä½¿ç”¨oh-my-fishäº†ã€‚</p><p>ä¸‹é¢çš„æ“ä½œå…·ä½“çœ‹å®˜æ–¹çš„githubæ¯”è¾ƒå¥½ï¼š<a target="_blank" rel="noopener" href="https://github.com/jorgebucaran/fisher">https://github.com/jorgebucaran/fisher</a></p><h4 id="fisherçš„å®‰è£…"><a href="#fisherçš„å®‰è£…" class="headerlink" title="fisherçš„å®‰è£…"></a>fisherçš„å®‰è£…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -sL https://raw.githubusercontent.com/jorgebucaran/fisher/main/functions/fisher.fish | source &amp;&amp; fisher install jorgebucaran/fisher</span><br></pre></td></tr></table></figure></main><p>Sep 2024</p></div></div></div><footer class="footer"><div class="content has-text-centered"><p><a href="/about">About Mars</a> | <a href="https://github.com/marsevilspirit" , target="_blank">Github</a> | <a href="mailto:marsevilspirit@gmail.com">Email</a></p></div></footer></body></html>